1. URL出现前的黑暗岁月,比如和朋友共享文件.就得用FTP连接到某台电脑上,匿名登录,输入用户名密码,切换目录.下载.

1. URL格式

    scheme://user:password@host:port/path;params?query#frag

-      名字:解释:默认值
-      方案:协议:默认无
-      用户:访问特定资源需要的用户名:匿名
-      密码:用户名对应密码:<E-mail>地址
-      主机:IP地址或者域名:无
-      端口:资源服务器监听端口号:每个方案特有(http是80)
-      路径:url路径可以分为若干段,每段都有特有组件:无
-      参数:某些方案用这个组件指定输入参数.与路径之间用;分隔,格式:参数名/值对
-      查询:传递参数来激活应用程序.没有固定格式,用?与url其他部分分隔
-      片段:一小片或者一部分资源名.不会传递给服务器,用#与url其他部分分隔

     http://lihongji:123456@www.baidu.com:80/user/123/account/456;type=string?userage>30#hash=xx

1. URL路径

    - 相对:是URL的片段,处理url应用程序(如浏览器)能在绝对与相对之间进行转换

    - 基础URL:可能来自于几个部分
        
        - 资源中显式提供:比如在html文档中可能包含一个定义基础url的html标记:<base>,通过它来转换html文档中所有相对url
        - 封装资源的URL:如果没有指定显示url.就一当前资源的url作为基础url
        
        - 相对URL:相对于基础url路径

    - 解析相对引用:将url划分成一个个组件,也就是分解url.

    ![](2-2.1.png)
    
    - 图中描述了./hammers.html中算法
    
        - 路径为./hammers.html，基础url为http://www.joes.com/tools.html
        
        - 至少有一个组件非空，一直处理到顶端，继承主机和端口、方案组件。 得到http://www.joes.com/
        
        - 将继承组件与相对组件拼合，得到新的url。http://www.joes.com/hammers.html
        
1. 自动扩展url        
    
    浏览器在用户提交url时候，或者在用户尝试输入url时，浏览器会自动补全url

1. url安全性与转意

    url是可移植的，因为要统一命名所有资源，而这些资源使用了不同的协议，传输数据方面采用了不同机制。所以通过任意协议进行安全传输是很重要的。
    
    安全传输意味着url传输不能丢失信息。所以传输方法就要剥去一些特定字符。
    
    url还应该可供人类阅读。因此一些特殊符号，如空格，关键字等都不能在url中使用。
    
    url还得是完整的，问题更加复杂了。url设计者认识到人们可能会通过url传递除了通用的安全字母之外的二进制数据或字符。因此需要一种转意机制编码后进行传输。

1. url编码机制
    
    以%开头，后面跟着两个字符的ascii码的十六进制数

1. 方案：

    - http:超文本传输方案，除了没有用户名密码之外，与url格式相符。默认端口80
    
    - https:比http增加了网景的ssl。ssl为http提供了端到端的加密机制。默认端口443
    
    - mailto：url指向e-mail地址。例如：mailto:aaa@bbb.com
    
    - ftp:文件传输协议，url指向ftp服务器上，上载或者下载的文件。并且能获得服务器上目录结构与内容列表。早在web出现之前就已经存在。web应用程序把ftp作为一种数据访问方案使用。格式:ftp://user:password@host:port/path;params
    
    - rtsp,rtspu:(Real Time Streaming Protocol)实时传输流数据协议。rtspu中的u代表从udp协议获取资源。
    
    - file:表示指定一台主机上课访问的文件。
    
    - new:新闻资源
    
    - telnet:交互式业务
    
1. 未来展望

    url的缺点：url不是指定资源名称，而是资源地址，这意味着资源移动以后，url不在生效。
    
    如果有了对象的准确名称，无论如何做迁移，都可以找到，那该多么完美啊。
    
    为了解决这个问题，因特网工程任务组已经对一种名为统一资源名(URN)的新标准做一段时间研究。无论对象迁移到任何地方，urn都能为对象提供一个稳定的名称。
    
    
    

